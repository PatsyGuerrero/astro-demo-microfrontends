---
import BaseLayout from '../layouts/BaseLayout.astro';
import { contentfulClient } from "../lib/contentful";
import Post from "../lib/post";

const pageTitle = "Pagina de prÃ©stamo";

const entries = await contentfulClient.getEntries({
  content_type: 'page',
  'fields.slug': 'multicredito',
});

const posts = entries.items.map((item) => {
  var post = new Post();
  post.id = item.sys.id;
  post.title = item.fields.title;
  post.slug = item.fields.slug;
  post.description = item.fields.description;
  post.imageUrl = item.fields.image.fields.file.url;
  
  return post;
});
---
<BaseLayout pageTitle={pageTitle}>
    <h1>Mi pagina de prestamos</h1>
    <ul>
      {posts.map((item, idx) => {
        return (
          <li>
            <a
              class="relative hover:scale-105 hover:cursor-pointer transition-all ease-in-out duration-300 flex flex-col gap-3"
              href={'#'}
            >
              <img
                class="w-[389px] h-[180px] object-cover rounded-[16px] border-2 border-black "
                src={item.imageUrl}
                width={350}
                height={"auto"}
              />
              <span class="rounded-lg top-4 right-8 z-10 px-4 py-1 bg-[#f9f9f9] border-2 border-[#d0d0d0] absolute">
                {''}
              </span>
              <div class="flex flex-col gap-2 ">
                <span>{''}</span>
                <h3 class="text-[24px] font-bold text-pretty">{item.title}</h3>
                <p class="line-clamp-3 text-balance">{item.description}</p>
              </div>
            </a>
          </li>
        );
      })}
    </ul>
</BaseLayout>